import React from "react";
import { HiArrowCircleRight } from "react-icons/hi";
import { IoArrowRedo, IoArrowUndo } from "react-icons/io5";

import { shortenAddress } from "../utils/shortenAddress";
import EthIcon from "../img/eth.svg";

const TransactionCard = ({ transaction, connectedAccount }) => {
  // const connectedAccountShortened = connectedAccount;
  // const { receiver, sender } = transaction;
  // console.log(connectedAccountShortened);
  // console.log(sender);
  // console.log(receiver);
  // console.log(connectedAccount === sender);
  // console.log(connectedAccount === receiver);
  return (
    <div className="flex border-b w-full p-3 border-gray-200">
      <div
        className={`rounded w-[30%] flex-1 h-[90px] text-center ${
          transaction.sender == connectedAccount
            ? "bg-[#e84118]"
            : "bg-[#4cd137]"
        } flex items-center justify-center`}
      >
        {connectedAccount === transaction.sender && (
          <IoArrowUndo className="text-white text-6xl" />
        )}
        {transaction.receiver !== connectedAccount && (
          <IoArrowRedo className="text-white text-6xl" />
        )}
      </div>
      <div className="flex-2 w-[70%] pl-4">
        <p className="text-base mb-2 flex items-center justify-between">
          <a
            href={`https://rinkeby.etherscan.io/address/${transaction.sender}`}
            target="_blank"
            className="hover:underline text-[#192a56]"
          >
            <span className="text-gray-700 font-semibold">
              {shortenAddress(transaction.sender)}
            </span>
          </a>
          <HiArrowCircleRight className="mx-2 text-blue-500" />
          <a
            href={`https://rinkeby.etherscan.io/address/${transaction.receiver}`}
            target="_blank"
            className="hover:underline text-[#192a56]"
          >
            <span className="text-gray-700 font-semibold">
              {shortenAddress(transaction.receiver)}
            </span>
          </a>
        </p>
        <div className="flex justify-between items-center">
          <p className="text-base mb-3 flex">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 100 100"
              width="18px"
              className="mr-2"
            >
              <g id="surface86170157">
                <path
                  style={{
                    stroke: "none",
                    fillRule: "nonzero",
                    fill: "#192a56",
                    fillOpacity: "1",
                  }}
                  d="M 51.96875 1.972656 C 51.210938 1.984375 50.527344 2.421875 50.199219 3.105469 L 22.339844 46.886719 C 22.292969 46.953125 22.253906 47.023438 22.214844 47.097656 C 22.214844 47.097656 22.210938 47.101562 22.210938 47.101562 C 22.183594 47.160156 22.15625 47.21875 22.132812 47.28125 C 22.085938 47.40625 22.050781 47.535156 22.027344 47.667969 C 22.003906 47.800781 21.996094 47.933594 22 48.066406 C 22 48.066406 22 48.070312 22 48.070312 C 22.003906 48.136719 22.007812 48.199219 22.015625 48.265625 C 22.019531 48.277344 22.019531 48.292969 22.023438 48.304688 C 22.039062 48.402344 22.0625 48.5 22.09375 48.597656 C 22.097656 48.617188 22.105469 48.632812 22.109375 48.652344 C 22.109375 48.652344 22.109375 48.65625 22.109375 48.65625 C 22.132812 48.71875 22.15625 48.78125 22.183594 48.839844 C 22.183594 48.839844 22.183594 48.84375 22.183594 48.84375 C 22.210938 48.902344 22.242188 48.960938 22.277344 49.015625 C 22.277344 49.015625 22.277344 49.019531 22.277344 49.019531 C 22.3125 49.074219 22.347656 49.128906 22.386719 49.183594 C 22.40625 49.207031 22.425781 49.230469 22.445312 49.253906 C 22.46875 49.28125 22.492188 49.3125 22.515625 49.339844 C 22.558594 49.390625 22.605469 49.4375 22.652344 49.480469 C 22.652344 49.480469 22.65625 49.484375 22.65625 49.484375 C 22.753906 49.574219 22.859375 49.652344 22.972656 49.71875 C 22.972656 49.71875 22.976562 49.722656 22.976562 49.722656 C 22.988281 49.726562 22.996094 49.734375 23.007812 49.738281 C 23.007812 49.738281 23.011719 49.742188 23.011719 49.742188 L 50.757812 65.597656 C 51.480469 66.167969 52.5 66.171875 53.226562 65.605469 L 80.949219 49.761719 C 80.964844 49.753906 80.976562 49.746094 80.992188 49.738281 C 81.035156 49.710938 81.078125 49.683594 81.121094 49.65625 C 81.132812 49.648438 81.148438 49.636719 81.160156 49.628906 C 81.167969 49.621094 81.179688 49.613281 81.1875 49.605469 C 81.230469 49.578125 81.269531 49.546875 81.308594 49.515625 C 81.3125 49.511719 81.3125 49.511719 81.316406 49.507812 C 81.324219 49.5 81.332031 49.496094 81.339844 49.488281 C 81.382812 49.449219 81.421875 49.410156 81.460938 49.367188 C 81.507812 49.320312 81.550781 49.269531 81.589844 49.214844 C 81.628906 49.164062 81.664062 49.109375 81.699219 49.054688 C 81.699219 49.054688 81.703125 49.050781 81.703125 49.050781 C 81.703125 49.046875 81.707031 49.042969 81.707031 49.039062 C 81.742188 48.988281 81.773438 48.933594 81.800781 48.878906 C 81.800781 48.878906 81.800781 48.875 81.800781 48.875 C 81.824219 48.828125 81.84375 48.78125 81.863281 48.734375 C 81.867188 48.71875 81.875 48.707031 81.878906 48.691406 C 81.882812 48.675781 81.890625 48.660156 81.894531 48.644531 C 81.910156 48.597656 81.921875 48.554688 81.933594 48.507812 C 81.933594 48.503906 81.9375 48.503906 81.9375 48.5 C 81.9375 48.496094 81.941406 48.492188 81.941406 48.488281 C 81.957031 48.425781 81.96875 48.367188 81.976562 48.304688 C 81.984375 48.253906 81.992188 48.203125 81.996094 48.152344 C 81.996094 48.148438 81.996094 48.140625 81.996094 48.136719 C 82 48.074219 82 48.015625 82 47.953125 C 82 47.914062 81.996094 47.875 81.992188 47.835938 C 81.988281 47.792969 81.984375 47.753906 81.980469 47.710938 C 81.980469 47.710938 81.980469 47.707031 81.980469 47.707031 C 81.980469 47.699219 81.976562 47.695312 81.976562 47.6875 C 81.96875 47.632812 81.957031 47.574219 81.941406 47.519531 C 81.941406 47.515625 81.941406 47.515625 81.941406 47.511719 C 81.929688 47.460938 81.914062 47.414062 81.898438 47.363281 C 81.894531 47.347656 81.886719 47.335938 81.882812 47.320312 C 81.875 47.304688 81.871094 47.289062 81.863281 47.273438 C 81.847656 47.230469 81.828125 47.183594 81.808594 47.140625 C 81.808594 47.140625 81.804688 47.136719 81.804688 47.136719 C 81.804688 47.132812 81.800781 47.128906 81.800781 47.125 C 81.773438 47.070312 81.742188 47.015625 81.707031 46.960938 C 81.703125 46.953125 81.699219 46.949219 81.695312 46.941406 C 81.691406 46.9375 81.691406 46.929688 81.6875 46.925781 L 81.625 46.832031 L 53.792969 3.09375 C 53.453125 2.398438 52.742188 1.960938 51.96875 1.972656 Z M 50 10.871094 L 50 34.679688 L 29.167969 43.605469 Z M 54 10.871094 L 74.832031 43.605469 L 54 34.679688 Z M 50 39.03125 L 50 60.550781 L 28.484375 48.257812 Z M 54 39.03125 L 75.515625 48.257812 L 54 60.550781 Z M 80.015625 55.996094 C 79.664062 55.992188 79.3125 56.085938 79.007812 56.261719 L 52 71.695312 L 24.992188 56.261719 C 24.703125 56.097656 24.375 56.007812 24.039062 56 C 23.277344 55.984375 22.574219 56.402344 22.222656 57.082031 C 21.875 57.757812 21.9375 58.574219 22.390625 59.1875 L 50.257812 97.007812 C 50.613281 97.636719 51.277344 98.023438 51.996094 98.023438 C 52.71875 98.023438 53.382812 97.636719 53.738281 97.011719 L 81.609375 59.1875 C 82.058594 58.582031 82.128906 57.777344 81.792969 57.101562 C 81.457031 56.429688 80.769531 56 80.015625 55.996094 Z M 31.226562 64.433594 L 50 75.164062 L 50 89.914062 Z M 72.773438 64.433594 L 54 89.914062 L 54 75.164062 Z M 72.773438 64.433594 "
                />
              </g>
            </svg>

            <span className="text-gray-700 font-semibold">
              {transaction.amount} ETH
            </span>
          </p>{" "}
          <span className="text-sm">{transaction.timestamp}</span>
        </div>
        <p className="text-sm">
          <span className="text-gray-500 mr-2">Message:</span>
          <span className="text-gray-700 font-semibold">
            {transaction.message}
          </span>
        </p>
      </div>
    </div>
  );
};

export default TransactionCard;
